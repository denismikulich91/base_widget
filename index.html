<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:widget="http://www.netvibes.com/ns/">
    <head>
        <title>Testing widget</title>
        <meta name="author" content="Kerim HUDAYBERDIYEV" />
        <meta name="description" content="Widget used to feed Vianova transport data into City" />
        <meta name="keywords" content="Transportation, mobility, connected vehicles data" />
        <meta name="apiVersion" content="0.1" />
        <meta name="debugMode" content="true" />
        <meta name="strictMode" content="false" />

        <!-- FOR DEV PURPOSE ONLY -->
        <meta http-equiv="pragma" content="no-cache">
        <meta http-equiv="cache-control" content="no-cache">
        <meta http-equiv="expires" content="0">
        <!-- End of FOR DEV PURPOSE ONLY -->

        <!-- Application Standalone emulation files -->
        <link rel="stylesheet" type="text/css" href="http://uwa.netvibes.com/lib/c/UWA/assets/css/standalone.css" />
        <script type="text/javascript" src="http://uwa.netvibes.com/lib/c/UWA/js/UWA_Standalone_Alone.js"></script>

        <!-- Custom CSS or JS library -->
        <link rel="stylesheet" type="text/css" href="styles/style.css" />
        <!-- <script type="text/javascript" src="http://uwa.netvibes.com/lib/c/UWA/js/UWA_Standalone_Alone.js"></script> -->
        <div id="shopping-list">
            <div class="header">
              <h1>{{header || "Welcome"}}</h1>
              <button v-if="editing" @click="onEdit(false)" class="btn btn-cancel">Cancel</button>
              <button v-else @click="onEdit(true)" class="btn btn-primry">Add Item</button>
            </div>
            <div class="add-item-form" v-if="editing">
              <input @keyup.enter="saveItem" v-model="newItem" type="text" placeholder="Add an item">
              <label>
                <input type="checkbox" v-model="newItemHighPriority"> High priority
              </label>
              <button :disabled="newItem.length===0" @click="saveItem" class="btn btn-primary">Save Item</button>
            </div>
            <p v-if="items.length===0">You have bougth all your items!</p>
            <ul>
              <li v-for="item in reversedItems" :class="{strikeout: item.purchased, priority: item.highPriority}"
              @click="togglePurchased(item)" 
              class="static-class" :key="item.id">{{item.label}}
            </li>
            </ul>
          </div>
          <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
        <script>
            var host = 'https://city-base-script.netlify.app', // URL of server
                project = ''; // folder referencing to your project resources

            // AMD loader setting. For complete documentation, refer to https://requirejs.org/docs/whyamd.html
            // require.config({
            //     paths: {
            //         'Widget': host + project,
            //         'Modules': host + project + '/modules'
            //     }
            // });

            require(
                [
                    "Widget/js/Main"
                ],
                function(
                    Main
                ) 
                {
                    // global variables (widget, UWA, document)

                    // Function to call when widget is loaded
                    widget.addEvent("onLoad", Main.onLoad);

                    // Function to call when widget is being resized
                    widget.addEvent("onResize", Main.onResize);

                    // Function to call when widget view changed
                    widget.addEvent("onViewChange", Main.onViewChange);

                    // Function to call when a preference item is changed
                    widget.addEvent("onEdit", Main.onEdit);

                    // Function to call when refresh button is clicked
                    widget.addEvent("onRefresh", Main.onRefresh);

                    // Function to call when prefence edit is finalized
                    widget.addEvent("endEdit", Main.endEdit);
                }
            );
        </script>
    </head>
    <body>

    </body>
</html>